# {{ project_name }} - Go CLI project
# Run `just --list` to see all available recipes

set quiet
set dotenv-load

# Modules - call as `just module::recipe`
mod go
mod docs
mod docker
mod release
mod compose
mod certs
mod testing
mod cicd

# Import top-level recipes
import 'dev.just'

# Variables
TOOL_NAME := "{{ tool_name }}"
PROJECT_NAME := "{{ project_name }}"
TOOL_FOLDER := env_var("PWD") + "/src/" + TOOL_NAME

# List all available recipes
default:
    just --list

# Build the CLI binary (alias for go::build)
build:
    just go::build {{ '{{' }} TOOL_NAME {{ '}}' }}

# Run tests (alias for go::test)
test:
    just go::test {{ '{{' }} TOOL_NAME {{ '}}' }}

# Run linter (alias for go::lint)
lint:
    just go::lint {{ '{{' }} TOOL_NAME {{ '}}' }}

# Build and run the binary
run: build
    ./bin/{{ '{{' }} TOOL_NAME {{ '}}' }}
